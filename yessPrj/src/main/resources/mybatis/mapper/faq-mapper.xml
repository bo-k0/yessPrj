<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="faqMapper">

	<!-- faq 리스트 -->
	<select id="faqList" resultType="FaqVo">
		SELECT
			 F.NO
			, QT.QNA_TYPE
			, F.TITLE
			, F.CONTENT
			, F.ENROLL_DATE
			, TO_CHAR(F.MODIFY_DATE, 'yyyy-mm-dd') AS MODIFY_DATE
			, F.MODIFY_DATE AS DATE2
		FROM FAQ F
		JOIN QNA_TYPE QT ON F.QNA_TYPE_NO = QT.NO
		WHERE DELETE_YN = 'N'
		<if test=' tradeType != 0'>
		AND QNA_TYPE_NO = ${typeNo}
		</if>
		ORDER BY DATE2 DESC
	</select>
	
	<insert id="faqWrite">
	INSERT INTO FAQ
	(
	    NO
	    , QNA_TYPE_NO
	    , ADMIN_NO
	    , TITLE
	    , CONTENT
	)
	VALUES
	(
	    SEQ_FAQ_NO.NEXTVAL
	    , #{qnaTypeNo} 
	    , 1
	    , #{title}
	    , #{content}
	)

	</insert>

</mapper>